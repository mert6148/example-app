/**
 * jQuery Helpers ve Extensions
 */
import $ from 'jquery';

/**
 * DOM üzerinde bulunan tüm butonları dinle
 */
export function setupButtonListeners() {
    $(document).on('click', '.btn', function() {
        const $btn = $(this);
        const action = $btn.data('action') || 'click';
        console.log(`Button action: ${action}`);

        // Buton click event'ini trigger et
        $btn.trigger('button:click');
    });
}

/**
 * Anchor link click'lerini yönet
 */
export function setupAnchorListeners() {
    $(document).on('click', 'a[href="/"]', function(e) {
        e.preventDefault();
        console.log('Ana sayfa linkine tıklandı');
        // Ana sayfaya yönlendir
        window.location.href = '/';
    });
}

/**
 * Form gönderme işlemlerini yönet
 */
export function setupFormListeners() {
    $(document).on('submit', 'form', function(e) {
        const $form = $(this);
        const isValid = validateForm($form);

        if (!isValid) {
            e.preventDefault();
            console.warn('Form geçerleme başarısız');
            return false;
        }
    });
}

/**
 * Form geçerleme
 */
function validateForm($form) {
    let isValid = true;

    $form.find('[required]').each(function() {
        const $field = $(this);
        if (!$field.val() || $field.val().trim() === '') {
            $field.addClass('is-invalid');
            isValid = false;
        } else {
            $field.removeClass('is-invalid');
        }
    });

    return isValid;
}

/**
 * Tümü başlat
 */
export function init() {
    setupButtonListeners();
    setupAnchorListeners();
    setupFormListeners();
    console.log('✓ jQuery helpers başlatıldı');
}

export default $;
